<div class="card">
  <div class="card-header">
    <h4>{{ '::Menu:historyExperiments' | abpLocalization }}</h4>
  </div>

  <div class="card-body p-0">
    <div class="form-group my-3">
      <label>{{ '::CourseName' | abpLocalization }}</label>
      <ng-select
        [items]="courses"
        bindLabel="name"
        bindValue="id"
        [(ngModel)]="selectedCourse"
        placeholder="Select a course"
        (change)="onCourseChange($event)"
      >
      </ng-select>
    </div>
    <div class="form-group mb-3">
      <label>{{ '::experimentName' | abpLocalization }} </label>
      <ng-select
        [items]="experiments"
        bindLabel="name"
        bindValue="id"
        [(ngModel)]="selectedExperiment"
        placeholder="Select an experiment"
      >
      </ng-select>
    </div>
    <div class="form-group mb-3">
      <label>{{ '::GroupName' | abpLocalization }}</label>
      <ng-select
        [items]="groups"
        bindLabel="name"
        bindValue="id"
        [(ngModel)]="selectedGroup"
        placeholder="Select a group"
        (change)="onGroupChange($event)"
      >
      </ng-select>
    </div>
    <div class="form-group mb-3">
      <label>{{ '::StudentName' | abpLocalization }}</label>
      <ng-select
        [items]="students"
        bindLabel="name"
        bindValue="id"
        [(ngModel)]="selectedStudent"
        placeholder="Select a student"
      >
      </ng-select>
    </div>

    <div class="form-group mb-3">
      <button (click)="onSearch()" class="btn btn-primary view-btn list-view">
        {{ '::Search' | abpLocalization }}
      </button>
    </div>

    <!-- Conditionally render the StudentExperTriesDetailsComponent and pass inputs -->
    <!-- <app-student-exper-tries-details
       *ngIf="showDetails"
       [studentid]="selectedStudent"
       [experimentid]="selectedExperiment">
     </app-student-exper-tries-details>
    </div> -->

    <div *ngIf="iframeUrl; else loading">
      <iframe [src]="iframeUrl" width="100%" height="600px"></iframe>
    </div>
    <ng-template #loading>
      <p>Loading experiment...</p>
    </ng-template>
    <div *ngIf="errorMessage">
      <p style="color: red">{{ errorMessage }}</p>
    </div>
  </div>
</div>
